# 系统概览

新版项目聚焦于脚本自动抢场地，我们已经移除了旧版的 Web API、数据库和命令行交互，只保留与学校官方预约系统通信所需的最小组件。

## 核心目标

- 通过配置文件声明账号、日期策略与时间段偏好。
- 在放号时自动拉取可用场地并生成预约参数。
- 在指定时间段持续尝试预约，直至成功或放弃。
- 本地缓存接口数据，便于调试与排查。

## 工作流程

1. **配置阶段**：使用 `config.py` 描述账号密码、默认使用者、偏好时间段等信息。
2. **数据准备阶段**：执行 `config_setup.py`，按配置向学校接口请求可预约场地，并缓存响应。
3. **定时执行阶段**：`scheduler.py` 每日按照 `Config.SCHEDULE_TIME` 触发预约逻辑，只在 `BOOKING_HOURS` 指定的时间段内调用 `Booking.book_venue()`。
4. **自动重试**：遇到未到预约时间等临时性错误会自动重试；若提示每日限预约一场则终止尝试。

## 技术栈

- **HTTP 请求**：`requests`
- **任务调度**：`schedule`
- **运行环境**：推荐 Python 3.10 及以上版本（示例使用 3.13）。

## 适用场景

- 个人或小团队需要在放号瞬间自动提交预约。
- 主要针对羽毛球馆（`serviceid=22`）或可通过简单配置覆盖的场馆。
- 部署在长期在线的设备，保持脚本常驻运行。

## 不再提供的能力

- 不再内置 FastAPI Web 服务或 REST API。
- 不再维护 SQLite 数据库或 ORM 层。
- 不再提供交互式命令行工具。

如需恢复旧方案，需要自行回滚到先前版本或重新组装相关模块；当前路线强调少即是多，确保自动预约逻辑清晰、易维护。
